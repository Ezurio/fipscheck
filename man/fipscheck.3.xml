<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN"
                   "http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd">
<refentry id='fipscheck3'>
<refentryinfo><date>11 April 2012</date></refentryinfo>
<refmeta>
<refentrytitle>FIPSCHECK</refentrytitle>
<manvolnum>3</manvolnum>
<refmiscinfo class='date'>11 April 2012</refmiscinfo>
<refmiscinfo class='source'>fipscheck</refmiscinfo>
<refmiscinfo class='manual'>fipscheck</refmiscinfo>
</refmeta>
<refnamediv id='name'>
<refname>FIPSCHECK_verify</refname>
<refname>FIPSCHECK_verify_files</refname>
<refname>FIPSCHECK_get_binary_path</refname>
<refname>FIPSCHECK_get_library_path</refname>
<refname>FIPSCHECK_kernel_fips_mode</refname>
<refname>fipscheck.h</refname>
<refpurpose>Various functions relating to running in FIPS mode</refpurpose>
</refnamediv>
<!-- body begins here -->
<refsynopsisdiv id='synopsis'>
<funcsynopsis>
<funcsynopsisinfo>
#include &lt;fipscheck.h&gt;

</funcsynopsisinfo>
<funcprototype>
<funcdef>int <function>FIPSCHECK_verify</function></funcdef>
    <paramdef>const char *<parameter>libname</parameter></paramdef>
    <paramdef>const char * <parameter>symbolname</parameter></paramdef>
</funcprototype>

<funcprototype>
<funcdef>int <function>FIPSCHECK_verify_files</function></funcdef>
    <paramdef>const char *<parameter>files[]</parameter></paramdef>
</funcprototype>

<funcprototype>
<funcdef>int <function>FIPSCHECK_get_binary_path</function></funcdef>
    <paramdef>char *<parameter>path</parameter></paramdef>
    <paramdef>size_t <parameter>pathlen</parameter></paramdef>
</funcprototype>

<funcprototype>
<funcdef>int <function>FIPSCHECK_get_library_path</function></funcdef>
    <paramdef>const char *<parameter>libname</parameter></paramdef>
    <paramdef>const char *<parameter>symbolname</parameter></paramdef>
    <paramdef>char *<parameter>path</parameter></paramdef>
    <paramdef>size_t <parameter>pathlen</parameter></paramdef>
</funcprototype>

<funcprototype>
<funcdef>int <function>FIPSCHECK_kernel_fips_mode</function></funcdef>
    <paramdef>void<parameter></parameter></paramdef>
</funcprototype>

</funcsynopsis>
</refsynopsisdiv>


<refsect1 id='description'><title>DESCRIPTION</title>
<para>These functions test for FIPS-140-2 mode, and can generate or
verify the binaries by their checksum files.
</para>

<para>All functions return 0 for success and -1 for failure, with the
exception of FIPSCHECK_kernel_fips_mode, which returns 1 when the kernel
is in fips mode.
</para>

<para>
The checksum file contains the HMAC-SHA256 encoded in hexadecimal notation
using lowercase letters with one EOL character appended at the end.
</para>
</refsect1>

<refsect1 id='fips'><title>FIPS MODE</title>
<para>A kernel compiled with CONFIG_CRYPTO_FIPS=y can be booted in fips mode
by specifying fips=1 as kernel parameter. Please refer to the security policy
of the Kernel FIPS module for further details.
</para>
</refsect1>

<refsect1 id='see_also'><title>SEE ALSO</title>
<para><citerefentry><refentrytitle>fipscheck</refentrytitle><manvolnum>8</manvolnum></citerefentry>,
<citerefentry><refentrytitle>fipshmac</refentrytitle><manvolnum>8</manvolnum></citerefentry>,
<ulink url='https://fedorahosted.org/fipscheck/'>https://fedorahosted.org/fipscheck/</ulink></para>
</refsect1>

<refsect1 id='author'><title>AUTHOR</title>
<para>Tomas Mraz  &lt;tmraz@redhat.com&gt;.
</para>

<para>Man page by Paul Wouters &lt;pwouters@redhat.com&gt;</para>
</refsect1>

<refsect1 id='copyright'><title>COPYRIGHT</title>

<para>Copyright 2008, 2012 Red Hat, Inc. All rights reserved.</para>
<para>
Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:
</para>
<para>
1. Redistributions of source code must retain the above copyright notice,
this list of conditions and the following disclaimer.</para><para>
2. Redistributions in binary form must reproduce the above copyright notice,
this list of conditions and the following disclaimer in the documentation
and/or other materials provided with the distribution.
</para>
</refsect1>

</refentry>

